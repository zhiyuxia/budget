!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=7)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",function(){return deleteItemList}),__webpack_require__.d(__webpack_exports__,"a",function(){return displayBudget}),__webpack_require__.d(__webpack_exports__,"c",function(){return DOMStrings}),__webpack_require__.d(__webpack_exports__,"d",function(){return getInput}),__webpack_require__.d(__webpack_exports__,"e",function(){return addItemList}),__webpack_require__.d(__webpack_exports__,"b",function(){return displayPercentage});var DOMStrings={inputType:".add-type",inputDescription:".add-description",inputValue:".add-value",inputBtn:".add-btn",incomeList:".income-list",expenseList:".expense-list",incValue:".inc-value",expValue:".exp-value",budgetValue:".value",expPercentage:".exp-percentage",bottomContainer:".bottom-container",itemPercentage:".item-percentage"},formatNumber=function(type,num){return num=num.toFixed(2),num=num.toString().replace(/(^|\s)\d+/g,function(m){return m.replace(/(?=(?!\b)(\d{3})+$)/g,",")}),num="inc"===type?"+ "+num:"- "+num},getInput=function(){return{type:document.querySelector(DOMStrings.inputType).value,description:document.querySelector(DOMStrings.inputDescription).value,value:Number(document.querySelector(DOMStrings.inputValue).value)}},addItemList=function(type,obj){var value=void 0;"inc"===type?(value=formatNumber(type,obj.value),document.querySelector(DOMStrings.incomeList).insertAdjacentHTML("beforeend",'<div class="item clearfix" id="inc-'+obj.id+'">\n     <div class="item-description">'+obj.description+'</div>\n     <div class="item-right clearfix">\n     <div class="item-value">'+value+'</div>\n     <div class="item-delete">\n     删除\n     </div>\n     </div>\n     </div>')):"exp"===type&&(value=formatNumber(type,obj.value),document.querySelector(DOMStrings.expenseList).insertAdjacentHTML("beforeend",'   <div class="item clearfix" id="exp-'+obj.id+'">\n                        <div class="item-description">\n                            '+obj.description+'\n                        </div>\n                        <div class="right clearfix">\n                            <div class="item-value">'+value+'</div>\n                            <div class="item-percentage">-10%</div>\n                            <div class="item-delete">删除</div>\n                        </div>\n                    </div>'))},displayBudget=function(obj){obj.budget=Math.abs(obj.budget);var type=void 0;type=obj.expTotal>obj.incTotal?"exp":"inc",document.querySelector(DOMStrings.budgetValue).textContent=formatNumber(type,obj.budget),document.querySelector(DOMStrings.incValue).textContent=formatNumber("inc",obj.incTotal),document.querySelector(DOMStrings.expValue).textContent=formatNumber("exp",obj.expTotal),-1===obj.percentage?document.querySelector(DOMStrings.expPercentage).textContent="--":document.querySelector(DOMStrings.expPercentage).textContent=obj.percentage+"%"},deleteItemList=function(id){var element=document.getElementById(id);element.parentNode.removeChild(element)},displayPercentage=function(arr){var arrLike=document.querySelectorAll(DOMStrings.itemPercentage);Array.from(arrLike).forEach(function(curr,index){-1===arr[index]?curr.textContent="--":curr.textContent=arr[index]+"%"})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ui__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__data__=__webpack_require__(3),updatePercentage=function(){var percentageArr=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__data__.a)();__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ui__.b)(percentageArr)},updateBudget=function(){var result=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__data__.b)();__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ui__.a)(result)},clearInput=function(){document.querySelector(__WEBPACK_IMPORTED_MODULE_0__ui__.c.inputDescription).value="",document.querySelector(__WEBPACK_IMPORTED_MODULE_0__ui__.c.inputValue).value="",document.querySelector(__WEBPACK_IMPORTED_MODULE_0__ui__.c.inputDescription).focus()},ctrlAddItem=function(){var inputDetails=void 0;inputDetails=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ui__.d)();var _inputDetails=inputDetails,value=_inputDetails.value,description=_inputDetails.description,type=_inputDetails.type,newItem=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__data__.c)(type,description,value);__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ui__.e)(type,newItem),updateBudget(),updatePercentage(),clearInput()},ctrlDeleteItem=function(event){var idItem=event.target.parentNode.parentNode.id;if(idItem){var idArr=idItem.split("-"),type=idArr[0],id=Number(idArr[1]);__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__data__.d)(type,id),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__ui__.f)(idItem),updateBudget(),updatePercentage()}};document.querySelector(__WEBPACK_IMPORTED_MODULE_0__ui__.c.inputBtn).addEventListener("click",ctrlAddItem),document.addEventListener("keypress",function(event){13===event.keyCode&&ctrlAddItem()}),document.querySelector(__WEBPACK_IMPORTED_MODULE_0__ui__.c.bottomContainer).addEventListener("click",ctrlDeleteItem)},function(module,exports,__webpack_require__){var content=__webpack_require__(4);"string"==typeof content&&(content=[[module.i,content,""]]);__webpack_require__(6)(content,{});content.locals&&(module.exports=content.locals)},function(module,__webpack_exports__,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(__webpack_exports__,"b",function(){return calculateBudget}),__webpack_require__.d(__webpack_exports__,"c",function(){return addItem}),__webpack_require__.d(__webpack_exports__,"d",function(){return deleteItem}),__webpack_require__.d(__webpack_exports__,"a",function(){return calculatePercentage});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),data={allItems:{inc:[],exp:[]},totals:{incTotal:0,expTotal:0},budget:0,percentage:-1};window.data=data;var Expense=function(){function Expense(id,description,value){_classCallCheck(this,Expense),this.id=id,this.description=description,this.value=value,this.percentage=-1}return _createClass(Expense,[{key:"calPercentage",value:function(){0===data.totals.incTotal?this.percentage=-1:this.percentage=Math.round(this.value/data.totals.incTotal*100)}}]),Expense}(),Income=function Income(id,description,value){_classCallCheck(this,Income),this.id=id,this.description=description,this.value=value,this.percentage=-1},addItem=function(type,description,value){var newItem=void 0,id=void 0;return id=0===data.allItems[type].length?0:data.allItems[type][data.allItems[type].length-1].id+1,newItem="inc"===type?new Income(id,description,value):new Expense(id,description,value),data.allItems[type].push(newItem),newItem},calculateBudget=function(){var incomeTotal=data.allItems.inc.reduce(function(acc,curr){return acc+curr.value},0),expenseTotal=data.allItems.exp.reduce(function(acc,curr){return acc+curr.value},0);return data.totals.incTotal=incomeTotal,data.totals.expTotal=expenseTotal,data.budget=incomeTotal-expenseTotal,data.percentage=0===incomeTotal?-1:Math.round(expenseTotal/incomeTotal*100),{incTotal:data.totals.incTotal,expTotal:data.totals.expTotal,budget:data.budget,percentage:data.percentage}},deleteItem=function(type,id){var index=data.allItems[type].findIndex(function(curr){return curr.id===id});data.allItems[type].splice(index,1)},calculatePercentage=function(){return data.allItems.exp.map(function(curr){return curr.calPercentage(),curr.percentage})}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(),exports.push([module.i,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nheader {\n  height: 40vh;\n  position: relative;\n}\n\n.header-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 350px;\n}\n\n.title {\n  text-align: center;\n  margin-bottom: 10px;\n  font-size: 25px;\n}\n\n.value {\n  text-align: center;\n  font-size: 20px;\n  margin-bottom: 10px;\n}\n\n.clearfix::after {\n  content: '';\n  display: block;\n  clear: both;\n}\n\n.inc {\n  background: rgba(40, 185, 181, 1);\n  padding: 12px;\n  margin-bottom: 10px;\n}\n\n.exp {\n  background: rgba(255, 80, 73, 1);\n  padding: 12px;\n}\n\n.exp-text,\n.inc-text {\n  float: left;\n}\n\n.right {\n  float: right;\n}\n\n.exp-value,\n.inc-value {\n  float: left;\n}\n\n.exp-percentage,\n.inc-percentage {\n  float: left;\n  text-align: center;\n  width: 55px;\n}\n\n.bottom {\n  background: rgba(247, 247, 247, 1);\n  padding: 5px;\n}\n\n.add-container {\n  text-align: center;\n}\n\n.add-type {\n  width: 55px;\n  height: 44px;\n  background-color: #fff;\n  font-size: 18px;\n}\n\n.add-description {\n  padding: 14px;\n  margin-left: 10px;\n  margin-right: 10px;\n  border-radius: 5px;\n}\n\n.add-value {\n  padding: 14px;\n  border-radius: 5px;\n}\n\n.add-btn {\n  padding: 14px;\n  border-radius: 5px;\n  margin-left: 10px;\n}\n\n.income h2,\n.expense h2 {\n  margin-bottom: 10px;\n}\n\n.income h2 {\n  color: rgba(40, 185, 181, 1);\n}\n\n.expense h2 {\n  color: rgba(255, 80, 73, 1);\n}\n\n.item {\n  padding: 13px;\n  border-bottom: 1px solid black;\n}\n\n.item:first-child {\n  border-top: 1px solid black;\n}\n\n.bottom-container {\n  width: 1000px;\n  margin: 60px auto;\n  text-align: center;\n}\n\n.type-container {\n  display: inline-block;\n}\n\n.income {\n  width: 475px;\n  float: left;\n  margin-right: 50px;\n}\n\n.item-description {\n  float: left;\n}\n\n.item-right {\n  float: right;\n}\n\n.item-delete {\n  display: none;\n}\n\n.item-value {\n  margin-top: 3px;\n  float: left;\n  transition: transform 0.4s linear;\n}\n\n.item:hover .item-value {\n  float: left;\n  margin-right: 5px;\n  margin-top: 3px;\n  transform: translate(-8px);\n}\n\n.item:hover .item-delete {\n  cursor: pointer;\n  float: left;\n  display: block;\n}\n\n.expense {\n  width: 475px;\n  float: left;\n}\n\n.item-percentage {\n  float: left;\n  margin-top: 3px;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n",""])},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},void 0===options.singleton&&(options.singleton=isOldIE()),void 0===options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){addStylesToDom(listToStyles(newList),options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__style_css__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__ui__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__style_css__),__webpack_require__(1),__webpack_require__(0));__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__ui__.a)({budget:0,incTotal:0,expTotal:0,percentage:-1}),console.log("application gets started")}]);
//# sourceMappingURL=main.6a976edeaa6dd0da1ac4.bundle.js.map